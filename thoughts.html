<!doctype html>
<html lang="ru">
  <head>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <script type="text/javascript">
      var thePage = "about/thoughts";
    </script>
    <script type="text/javascript" src="javascripts/menu.js"></script>

    <meta charset="utf-8">
    <title>Проект Vintage &#151; Размышления</title>

<!--     <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"> -->

    <!-- Google Analytics script -->
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-33475176-1']);
      _gaq.push(['_setDomainName', 'github.com']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>

</head>
<body>
      <script type="text/javascript">printMenu(window.thePage);</script>
  <div class="page" style="display: block;">
      <div class="main" style="margin-right: 5pt">
    	  <h2>Откуда вся эта затея</h2>
    	  <p>Наверное, каждому программисту хотя бы раз в жизни приходит в голову аналогия между всей существующей ныне
    	  компьютерной инфраструктурой и легендарной Вавилонской Башней. Этакая монструозная конструкция, обросшая костылями 
    	  в процессе эволюции, содержащая внутри себя кучу противоречий и непрерывно тянущая за собой из 
    	  &laquo;глубины веков&raquo; совместимость с предыдущими версиями и поколениями.</p>
    	  <p>Многие технологические решения, ставшие стандартом де-факто, вообще не проектировались изначально для того, 
    	  чтобы хоть как-то развиваться &#151; их делали как &laquo;затычки&raquo; к сиюминутным проблемам, но, тем не менее, 
    	  сегодня они используются для столь широкого круга задач, что если бы автору в момент, когда он строчил первую версию, 
    	  показали, во что оно вырастет, он бы, скорее всего, пришел в ужас и недоумение. (Это, например, язык PHP, хотя и не только он).</p>
    	  <p>Иные крупнейшие компании, создав некогда бестселлер и получив чуть ли не монополию в своей области, вынуждены
    	  улучшать его, всё время заботясь об обратной совместимости и являясь рабами ее, порождают чудовищно сложные решения,
    	  которые были бы стократно проще, если бы не это &laquo;родовое проклятие&raquo;. (Например, процессор Intel 8086 был почти
    	  совершенен, однако его потомки, без которых сейчас не обходится почти ни один настольный компьютер, весьма жутковаты из-за 
    	  своей сложности).</p>
    	  <p>Почти никто сейчас не пишет программы на ассемблере. Почему? Потому что есть языки более высокого уровня? Это справедливо, но отнюдь не всегда.
    	  Зачастую разработчики выбирают более высокий уровень для системной задачи вроде написания драйвера лишь потому, что хотят
    	  уйти от кучи сложностей и ньюансов, которые влечет за собой использование базовой архитектуры, разросшейся до колоссального 
    	  размера и непреподъемной для сколько-нибудь полного понимания одним человеком. Отсюда и падение производительности.</p>
    	  <p>&laquo;Побег от истоков&raquo; дошел до того, что на компьютере запускают виртуальную машину (вроде Oracle Java VM),
    	  архитектура которой проще и понятнее, чем настоящая, базовая архитектура. И программируют уже под эту VM. А VM, чтобы повысить
    	  производительность, должна свой код налету транслировать в настоящий, машинный код. Чудесное решение для элоев,
    	  которые боятся морлоков внутри своего системного блока, не так ли?</p>
    	  <p>Не поймите автора неправильно. Он никого не критикует. Лишь пытается взглянуть на ситуацию со стороны. И идея JIT-компиляторов
    	  прекрасна (без доли иронии), как средство решить проблему конфликта среди огромного &laquo;зоопарка&raquo; архитектур и операционных систем.</p>
    	  
    	  <p>Вот только хочется, порой, помечтать об идеальном мире, где этого &laquo;зоопарка&raquo; просто нет...</p>
    	  
    	  <p>И, наконец, еще одна, почти что философская проблема. Большинство решений, предназначенных для реальной жизни,
    	  оптимизируются на производительность и эффективность, а не на простоту. Это &#151; одна из основных проблем, которые приходится
    	  решать любому инженеру &#151; выбор между лёгкостью изготовления решения и его производительностью. И для того, чтобы
    	  рядовые программисты могли использовать такие технологии, как, например, та же Java, разработчики
    	  &laquo;железа&raquo; вынуждены добавлять дополнительные &laquo;ускоряющие&raquo; функции типа MMX или даже аппаратного 3D-ускорения.</p>
    	  <p>Из-за таких функций, кстати, происходит весьма занятная &laquo;качка&raquo; вектора развития технологий. Возьмем, к примеру,
    	  это самое пресловутое 3D-ускорение. Когда создавались первые видеокарты, бравшие на себя ответственность за быстрое перемножение
    	  матриц 4x4, процессор в компьютере был чаще всего один. И о том, что такое &laquo;многоядерный процессор&raquo;,
    	  никто даже не помышлял (возможно тут я ошибаюсь, но, во всяком случае, это не было mainstream). А ведь видеокарта, по сути,
    	  и стала таким многоядерным процессором. Этот процессор не был, что называется, general purpose, однако со своей первоочередной
    	  задачей &#151; трёхмерной геометрией &#151; он вполне справлялся.</p>
    	  <p>Видеокарты развивались, обрастали функционалом... И вот несколько лет назад я обнаруживаю такие замечательные технологии, как
    	  CUDA, OpenCL и иже с ними. То есть люди развили видеокарты настолько, что теперь их можно использовать для general purpose. 
          </p>
          <p>Круг замкнулся. Теперь осталось только добавить в видеокарты недостающий функционал CPU и выкинуть этот CPU совсем. Кому, 
          спрашивается, нужно 8 ядер, если рядом простаивают 150? Тем более, что производительность вполне позволяет.</p>
          <p>Тот инженер, который придумал 3D-ускорение, был прав тактически. Он не мог сказать разработчикам игр &laquo;подождите, 
          ребята, лет пять, мы изобретем новый процессор, который потянет вашу крутую графику&raquo;. Он принял отличное временное решение, позволившее
          добиться больших результатов на слабейшем железе. Однако за это временное решение приходится платить нам, теперешним инженерам... Чем? 
          Ну, например, появившейся новой технологией OpenGL (или Direct3D), которая в свете последних событий постепенно теряет всякий смысл, однако должна
          быть поддержана в последующих версиях видеоадаптеров, потому что тысячи прекрасных программ используют её. Скорее всего её поглотит
          OpenCL в том же смысле, в котором Direct3D в своё время поглотил DirectDraw. Остался гриф &laquo;deprecated&raquo; в документации и
          программная реализация, основанная на Direct3D, вместо аппаратной. А ведь были видеокарты, поддерживавшие DirectDraw на аппаратном уровне...</p>
          <p>Вот и пришла мне простая мысль. А что, если посмотреть на ход развития технологии &laquo;с высоты сегодняшнего дня&raquo;, чтобы
          избежать всех этих постепенных <em>наращиваний сложности ради совместимости</em> и <em>идеологических компромиссов во имя производительности</em>?
          Я собрал в кучу все свои скудные познания в архитектуре компьютера, исключил из рассмотрения железо (так как в нём, увы, совсем не разбираюсь)
          и попытался представить себе наиболее простой процессор, который будет поддерживать все более-менее значимые функции любого современного
          компьютера, как то вытесняющую многозадачность, разделение прав доступа к памяти и т. п. Как этот процессор должен быть организован, чтобы ассемблер не вызывал ужас, а операционную систему уровня DOS-а для него
          можно было бы написать за пару-тройку человеко-недель.</p>
          <p>Так и родился этот проект. А что из него получится &#151; поживём-увидим. Главное, что я не собираюсь делать новое поколение ЭВМ и
          конкурировать с другими производителями. А значит я не приму участия в строительстве вавилонской башни...</p>
	  </div>
  </div>
</body>
</html>